schema: '2.0'
stages:
  scrape:
    cmd: python -m telex.pipeline.scrape.scraping --output-folder "data/raw/raw"
    deps:
    - path: telex/pipeline/scrape
      md5: 7da4762f14f0811c50e13c610379d4c4.dir
      size: 2265
      nfiles: 2
    params:
      params.py:
        MAX_PAGES: 187
        PER_PAGE: 400
        SLEEP_TIME: 0.5
    outs:
    - path: data/raw
      md5: 170069251545593c2f2fd9f421249eeb.dir
      size: 592970611
      nfiles: 74711
  preprocess:
    cmd: python -m telex.pipeline.preprocess.preprocessing --input-folder "data/raw/raw"
      --output-folder "data/preprocessed"
    deps:
    - path: data/raw
      md5: 170069251545593c2f2fd9f421249eeb.dir
      size: 592970611
      nfiles: 74711
    - path: telex/pipeline/preprocess
      md5: 68ddf686b26a16aac649f8e905483b3b.dir
      size: 1883
      nfiles: 2
    outs:
    - path: data/preprocessed
      md5: 4c7d4461073c9b5b8cd526c4fada9878.dir
      size: 288517245
      nfiles: 1
  train:
    cmd: python -m telex.pipeline.train.training --input-file "data/preprocessed/telex.json"
      --output-folder "data/models"
    deps:
    - path: data/preprocessed
      md5: 4c7d4461073c9b5b8cd526c4fada9878.dir
      size: 288517245
      nfiles: 1
    - path: telex/pipeline/train
      md5: 22fff41c3853f14bf776224c6b5308fb.dir
      size: 1182
      nfiles: 2
    params:
      params.py:
        BATCH_SIZE: 32
        BLOCK_SIZE: 20
        SEED: 42
        VOCAB: "AÁBCDEÉFGHIÍJKLMNOÓÖŐPQRSTUÚÜŰVWXYZaábcdeéfghiíjklmnoóöőpqrstuúüűvwxyz0123456789.,;:?!-–_()[]{}'\"\
          /\\@#$%^&*+=|~` "
    outs:
    - path: data/models
      md5: 70fd19b9b90ac23512f9f5236b3491ec.dir
      size: 51941
      nfiles: 1
